---
date: 
  created: 2025-08-12
---

# React Query References

## React Query — API Reference Overview

To know more check TanStack Documentation here are links:

| API | Purpose / Definition |
| --- | --- |
| **[1. QueryClientProvider](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)** | Root provider for React Query. Must wrap your app for queries to work. |
| **[2. useQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)** | Core hook for fetching, caching, and updating server data. |
| **[3. useMutation](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)** | Hook for performing create, update, or delete operations. |
| **[4. useQueryClient](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)** | Access and manipulate the query cache manually. |
| **[5 . useQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)** | Run multiple independent queries in parallel. |
| **[6. useInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)** | Manage pagination or infinite scrolling of data. |
| **[7. useIsFetching](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)** | Track ongoing query fetch operations globally. |
| **[8. useIsMutating](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)** | Track ongoing mutation operations globally. |
| **[9. useMutationState](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)** | Track mutation states globally. |
| **[10. usePrefetchQuery](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)** | Preload query data before component mount. |
| **[11. usePrefetchInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)** | Preload infinite query data before component mount. |
| **[12. useSuspenseQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)** | Suspense-enabled version of `useQuery`. |
| **[13. useSuspenseInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)** | Suspense-enabled version of `useInfiniteQuery`. |
| **[14. useSuspenseQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)** | Suspense-enabled version of `useQueries`. |
| **[15. useQueryErrorResetBoundary](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)** | Hook to integrate with error boundaries for queries. |
| **[16. QueryErrorResetBoundary](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)** | Component for handling and resetting query errors. |
| **[17. Hydration Utilities](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)** | Functions for server-side rendering and hydration of queries. |

---

## 1. QueryClientProvider

```tsx
import { QueryClientProvider } from "@tanstack/react-query";
import { ReactQueryDevtools } from "@tanstack/react-query-devtools";

// Create a Client
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      // every defalut query you want to give goes here.
    }
  }
});

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <MyAppComponents />
      {/* if you want to use react query devtools */}
      <ReactQueryDevtools initialIsOpen={false} />
    </QueryClientProvider>
  );
}
```

---

## 2. useQuery

```js
const {
  data,
  dataUpdatedAt,
  error,
  errorUpdatedAt,
  failureCount,
  failureReason,
  fetchStatus,
  isError,
  isFetched,
  isFetchedAfterMount,
  isFetching,
  isInitialLoading,
  isLoading,
  isLoadingError,
  isPaused,
  isPending,
  isPlaceholderData,
  isRefetchError,
  isRefetching,
  isStale,
  isSuccess,
  isEnabled,
  promise,
  refetch,
  status,
} = useQuery(
  {
    queryKey,
    queryFn,
    gcTime,
    enabled,
    networkMode,
    initialData,
    initialDataUpdatedAt,
    meta,
    notifyOnChangeProps,
    placeholderData,
    queryKeyHashFn,
    refetchInterval,
    refetchIntervalInBackground,
    refetchOnMount,
    refetchOnReconnect,
    refetchOnWindowFocus,
    retry,
    retryOnMount,
    retryDelay,
    select,
    staleTime,
    structuralSharing,
    subscribed,
    throwOnError,
  },
  queryClient,
)
```

---

### React useQuery: Key Options

- **queryKey**  
      - Unique key identifying the query in the cache.  
      - Can be a string or array (for dynamic keys).  

- **queryFn**  
      - Function that fetches the data.  
      - Must return a promise.  

- **staleTime**  
      - Time (ms) that data is considered "fresh."  
      - Default: 0 (data is stale immediately).  

- **cacheTime**  
      - Time (ms) that unused data stays in memory before garbage collection.  
      - Default: 5 minutes.  

- **enabled**  
      - Boolean to enable/disable the query.  
      - Useful for conditional queries.  

- **refetchOnMount**  
      - Controls whether to refetch when the component mounts.  
      - Options: `true | false | 'always'`.  

- **refetchOnWindowFocus**  
      - Controls whether to refetch when the browser window gains focus.  
      - Options: `true | false | 'always'`.  

- **refetchOnReconnect**  
      - Refetch when the network reconnects.  
      - Options: `true | false | 'always'`.  

- **retry**  
      - Number of retry attempts if the query fails.  
      - Can be a number or a function returning a boolean.  
      - Default: 3.  

- **retryDelay**  
      - Delay (ms) between retry attempts.  
      - Can be a number or a function.  

- **onSuccess**  
      - Callback fired when the query succeeds.  

- **onError**  
      - Callback fired when the query fails.  

- **onSettled**  
      - Callback fired when the query finishes, regardless of success or error.  

- **select**  
      - Transform or map the fetched data before returning it.  

- **initialData**  
      - Provides default data before the query resolves.  

- **placeholderData**  
      - Data to display while the query is loading.  

- **keepPreviousData**  
      - Keeps previous query data while fetching new data (useful for pagination).  

- **structuralSharing**  
      - Controls how updates to data affect reference equality (default: shallow).  

- **refetchInterval**  
      - Automatically refetch the query every X ms.  
      - Can be a number or `false` to disable.  

- **refetchIntervalInBackground**  
      - If true, refetch interval continues even when the window is not focused.  

- **onSettled**  
      - Callback that runs after the query completes (success or error).  

---

### React useQuery: Returns

- **data**
      - The resolved data from the query function.
      - `undefined` if data hasn’t been fetched yet.

- **error**
      - The error object if the query fails.
      - `null` if no error.

- **isLoading**
      - `true` while the query is in its initial loading state.
      - Only true on the first fetch.

- **isFetching**
      - `true` whenever the query is fetching data (initial or background refetch).
      - Useful to show loading indicators even on background updates.

- **isError**
      - `true` if the query has encountered an error.

- **isSuccess**
      - `true` if the query successfully fetched data.

- **isIdle**
      - `true` if the query is disabled (`enabled: false`) and hasn’t run yet.

- **refetch**
      - Function to manually refetch the query.

- **status**
      - Overall status of the query: `"idle" | "loading" | "error" | "success"`.

- **failureCount**
      - Number of times the query has failed.

- **isFetched**
      - `true` if the query has been fetched at least once, regardless of success or error.

- **isFetchedAfterMount**
      - `true` if the query has been fetched after the component mounted.

- **dataUpdatedAt**
      - Timestamp (ms) when the data was last updated.

- **errorUpdatedAt**
      - Timestamp (ms) when the error was last updated.

- **remove**
      - Function to manually remove the query from the cache.

- **refetchOnWindowFocus**
      - Boolean indicating if the query will refetch when the window regains focus (from options).

- **refetchOnReconnect**
      - Boolean indicating if the query will refetch when network reconnects.

- **isStale**
      - Boolean indicating whether the data is stale according to `staleTime`.

- **isPlaceholderData**
      - Boolean indicating whether the query is using placeholder data.

- **isPreviousData**
      - Boolean indicating whether the data is from a previous query while fetching new data.

---

## 3. useMutation
