---
date: 
  created: 2025-11-07
---

# React + TypeScript

---

## Typing Functional Components

- Use `React.FC` (or `React.FunctionComponent`) for simple component typing.
- Alternatively, define props explicitly for better control.

```tsx
// ✅ Using React.FC
const Welcome: React.FC = () => <h1>Hello!</h1>;

// ✅ Explicit Prop Typing
type HelloProps = {
  name: string;
};

const Hello = ({ name }: HelloProps) => <h2>Hello, {name}</h2>;
```

---

## Typing Props and State

- Props are typed using interfaces or types.
- `useState` infers type from initial value or accepts a generic type.

```tsx
type CounterProps = {
  initial: number;
};

const Counter = ({ initial }: CounterProps) => {
  const [count, setCount] = React.useState<number>(initial);

  return (
    <div>
      <p>{count}</p>
      <button onClick={() => setCount(count + 1)}>+</button>
    </div>
  );
};
```

---

## `useState`, `useReducer`, and `useRef` Types

```tsx
// ✅ useState with type
const [value, setValue] = React.useState<string>("");

// ✅ useReducer with type
type State = { count: number };
type Action = { type: "inc" } | { type: "dec" };

function reducer(state: State, action: Action): State {
  switch (action.type) {
    case "inc": return { count: state.count + 1 };
    case "dec": return { count: state.count - 1 };
  }
}

const [state, dispatch] = React.useReducer(reducer, { count: 0 });

// ✅ useRef with type
const inputRef = React.useRef<HTMLInputElement>(null);
```

---

## Custom Hooks with Generics

- You can write custom hooks that are generic and type-safe.

```tsx
// ✅ Generic Custom Hook
function useArray<T>(initial: T[]) {
  const [array, setArray] = React.useState<T[]>(initial);
  const push = (item: T) => setArray([...array, item]);
  return { array, push };
}

const { array, push } = useArray<number>([1, 2, 3]);
push(4);
```

---

## Context API with TypeScript

- Create and consume context with full type safety.

```tsx
// ✅ Creating Context
type Theme = "light" | "dark";

interface ThemeContextType {
  theme: Theme;
  toggle: () => void;
}

const ThemeContext = React.createContext<ThemeContextType | undefined>(undefined);

const ThemeProvider: React.FC = ({ children }) => {
  const [theme, setTheme] = React.useState<Theme>("light");
  const toggle = () => setTheme((prev) => (prev === "light" ? "dark" : "light"));

  return (
    <ThemeContext.Provider value={{ theme, toggle }}>
      {children}
    </ThemeContext.Provider>
  );
};

// ✅ Using Context
const ThemeButton = () => {
  const context = React.useContext(ThemeContext);
  if (!context) throw new Error("Must be used within ThemeProvider");
  return <button onClick={context.toggle}>Toggle Theme</button>;
};
```
