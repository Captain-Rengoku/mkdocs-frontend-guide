---
date: 
  created: 2024-08-08
---

# State Management in React

## ðŸ“¦ 1. Context API and useContext Hook

âœ… What is Context API?
React Context provides a way to pass data through the component tree without having to pass props manually at every level.
Itâ€™s useful for global data like themes, authentication, or user preferences.

âœ… When to Use Context API

- When multiple components need access to the same state.
- When props are deeply nested and cause prop drilling.
- For app-wide settings (theme, locale, auth, etc.)

```ts
import React, { createContext, useContext, useState, useMemo } from 'react';

const ThemeContext = createContext();
```

âœ… Providing and Consuming Context

```ts
const ThemeProvider = ({ children }) => {
  const [darkMode, setDarkMode] = useState(false);

  const toggleTheme = () => setDarkMode(prev => !prev);

  âœ… Optimizing Context with useMemo
  const value = useMemo(() => ({ darkMode, toggleTheme }), [darkMode]);

  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;
};
```

âœ… Using useContext Hook

```ts
const ThemeToggle = () => {
  const { darkMode, toggleTheme } = useContext(ThemeContext);
  return (
    <div>
      <p>Current theme: {darkMode ? 'Dark' : 'Light'}</p>
      <button onClick={toggleTheme}>Toggle Theme</button>
    </div>
  );
};

const HomePage = () => {
  return (
    <ThemeProvider>
      <h2>Welcome to the App</h2>
      <ThemeToggle />
    </ThemeProvider>
  );
};
```

---

## ðŸ”„ 2. When to Use Context API vs Other Solutions

- **Small-Scale vs Large-Scale Applications**
      - Context is great for small-to-medium apps.
      - For large apps with deeply interdependent state, use Redux or Zustand.

- **When Context API is Sufficient**
      - User authentication
      - Theme switching
      - Language/localization

- **When to Use Redux or Others**
      - Complex business logic
      - Large team with modular state slices
      - Time-travel debugging or middleware

- **Performance Considerations**
      - Context causes re-render for all consumers when the value changes.
      - Optimize with `useMemo` or split context into smaller providers.

---

## ðŸ”ƒ 3. Prop Drilling vs Context API

- **What is Prop Drilling?**
      - Passing props through multiple layers just to reach a deeply nested component.

- **How Context API Solves It**
      - Use context to provide values to deeply nested components without passing props manually.

- **Alternatives to Context API**
      - Component Composition
      - Render Props
      - State management libraries

- **Best Practices**
      - Avoid large monolithic contexts
      - Split concerns: e.g. AuthContext, ThemeContext, etc.
      - Memoize context values to prevent unnecessary re-renders
